(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/login/login"],{"48e9":function(t,a,n){"use strict";(function(t){n("75e0"),n("921b");e(n("66fd"));var a=e(n("681d"));function e(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,n("a821")["createPage"])},"681d":function(t,a,n){"use strict";n.r(a);var e=n("888f"),r=n("a4c1");for(var u in r)"default"!==u&&function(t){n.d(a,t,function(){return r[t]})}(u);n("73de");var o,i=n("f0c5"),c=Object(i["a"])(r["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],o);a["default"]=c.exports},"73de":function(t,a,n){"use strict";var e=n("e5ed"),r=n.n(e);r.a},"888f":function(t,a,n){"use strict";var e,r=function(){var t=this,a=t.$createElement;t._self._c},u=[];n.d(a,"b",function(){return r}),n.d(a,"c",function(){return u}),n.d(a,"a",function(){return e})},a4c1:function(t,a,n){"use strict";n.r(a);var e=n("c4b5"),r=n.n(e);for(var u in e)"default"!==u&&function(t){n.d(a,t,function(){return e[t]})}(u);a["default"]=r.a},c4b5:function(t,a,n){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=r(n("b5fd"));function r(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{avatarUrl:null,hasLogin:t.getStorageSync("hasLogin"),parentUUID:""}},methods:{wxGetUserInfo:function(){var a=this;t.showLoading({title:"登录中..."}),t.getUserInfo({provider:"qq",success:function(n){a.avatarUrl=n.userInfo.avatarUrl;var r={nickName:n.userInfo.nickName,avatarUrl:n.userInfo.avatarUrl,city:n.userInfo.city,country:n.userInfo.country,province:n.userInfo.province,parentUUID:a.parentUUID};try{(0,e.default)("/user/register",r).then(function(n){console.log(n),t.setStorageSync("uuid",n.data.uuid),t.setStorageSync("uid",n.data.uid),t.setStorageSync("hasLogin",!0),a.$store.commit("login",{uuid:n.data.uuid,uid:n.data.uid,userInfo:r,task:n.data.task}),t.reLaunch({url:"../tabbar-1/tabbar-1"})})}catch(u){}}}),t.hideLoading()},login:function(){var a=this;this.hasLogin&&(t.showLoading({title:"登录中..."}),t.getUserInfo({provider:"qq",success:function(n){a.avatarUrl=n.userInfo.avatarUrl;var r="";try{r=t.getStorageSync("uuid")}catch(o){}var u={uuid:r,data:{nickName:n.userInfo.nickName,avatarUrl:n.userInfo.avatarUrl,city:n.userInfo.city,country:n.userInfo.country,province:n.userInfo.province}};(0,e.default)("/user/update",u).then(function(n){console.log(n),a.$store.commit("login",{uuid:u.uuid,userInfo:u.data,task:n.task}),t.reLaunch({url:"../tabbar-1/tabbar-1"})}).catch(function(n){a.$store.commit("login",{uuid:u.uuid,userInfo:u.data}),t.reLaunch({url:"../tabbar-3/tabbar-3"})})}}),t.hideLoading())}},onLoad:function(t){console.log("login"),this.avatarUrl="../../../static/qq.png",this.login(),t.parentID&&(this.parentUUID=t.parentID)}};a.default=u}).call(this,n("a821")["default"])},e5ed:function(t,a,n){}},[["48e9","common/runtime","common/vendor"]]]);